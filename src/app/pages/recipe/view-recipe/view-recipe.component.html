<div *ngIf="recipe" class="card shadow-sm view-recipe h-100">
  <img [src]="getCategoryImage(recipe.recipeCategory)" class="card-img-top" alt="Imagen de receta" (error)="onImageError($event)" />
  <div class="card-body p-view-recipe">
    <h5 class="section-title">{{ recipe.name }}</h5>
    <p class="card-text text-muted mb-2">{{ recipe.description }}</p>

    <h6 class="section-title mt-3">Ingredientes</h6>
    <ul class="list-unstyled">
      <li *ngFor="let ing of recipe.ingredients">{{ ing.quantity }} {{ ing.measurement }} de {{ ing.name }}</li>
    </ul>

    <h6 class="section-title mt-3">Instrucciones</h6>
    <ol>
      <li *ngFor="let step of getCleanedSteps(recipe.instructions)">
        {{ step }}
      </li>
    </ol>

    <div class="mt-3">
      <p><strong>Tiempo de preparación:</strong> {{ recipe.preparationTime }} minutos</p>
      <p><strong>Información nutricional:</strong> {{ recipe.nutritionalInfo }}</p>
    </div>

    <div *ngIf="areActionsAvailable" class="d-flex justify-content-end gap-2 mt-3">
      <button class="btn btn-sm btn-outline-primary" (click)="onSave()">Guardar</button>
      <button class="btn btn-sm btn-outline-danger" (click)="onDelete()">Eliminar</button>
    </div>
  </div>
</div>
