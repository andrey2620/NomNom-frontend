<div *ngIf="recipe" class="card shadow-sm view-recipe h-100 p-0">
  <div class="position-relative">
    <div class="position-absolute end-0 tooltip-container p-2">
      <app-tool-tip
        [tooltipText]="'Guardar receta'"
        [tooltipPosition]="'below'"
        [iconClass]="'fa-solid fa-floppy-disk'"
        [buttonClass]="'btn-save-recipe bg-transparent'"
        (clicked)="saveRecipe()"></app-tool-tip>
    </div>
  </div>
  <img
    [src]="getCategoryImage(recipe.recipeCategory)"
    class="card-img-top"
    alt="Imagen de receta"
    (error)="onImageError($event)"
    style="border-top-left-radius: 8px; border-top-right-radius: 8px" />
  <div class="card-body p-view-recipe">
    <h5 class="section-title">{{ recipe.name }}</h5>
    <p class="card-text text-muted mb-2">{{ recipe.description || 'Sin descripción' }}</p>

    <h6 class="section-title mt-3">Ingredientes</h6>
    <ul class="list-unstyled">
      <li *ngFor="let ing of recipe.ingredients">{{ ing.quantity }} {{ ing.measurement }} de {{ ing.name }}</li>
    </ul>

    <h6 class="section-title mt-3">Instrucciones</h6>
    <ol>
      <li *ngFor="let step of getCleanedSteps(recipe.instructions)">
        {{ step }}
      </li>
    </ol>

    <div class="mt-3">
      <p><strong>Tiempo de preparación:</strong> {{ recipe.preparationTime }} minutos</p>
      <p><strong>Información nutricional:</strong> {{ recipe.nutritionalInfo }}</p>
    </div>

    

  </div>
</div>
